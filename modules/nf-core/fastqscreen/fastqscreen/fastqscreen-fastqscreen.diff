Changes in module 'nf-core/fastqscreen/fastqscreen'
Changes in 'fastqscreen/fastqscreen/environment.yml':
--- modules/nf-core/fastqscreen/fastqscreen/environment.yml
+++ modules/nf-core/fastqscreen/fastqscreen/environment.yml
@@ -4,5 +4,11 @@
   - conda-forge
   - bioconda
 dependencies:
-  - "bioconda::fastq-screen=0.15.3"
+  - bioconda::fastq-screen=0.16.0
   - bioconda::perl-gdgraph=1.54
+  # - gzip
+  # - SAMtools
+  # - bowtie
+  # - bowtie2
+  # - bwa
+  # - bismark

'modules/nf-core/fastqscreen/fastqscreen/meta.yml' is unchanged
Changes in 'fastqscreen/fastqscreen/main.nf':
--- modules/nf-core/fastqscreen/fastqscreen/main.nf
+++ modules/nf-core/fastqscreen/fastqscreen/main.nf
@@ -1,15 +1,15 @@
 process FASTQSCREEN_FASTQSCREEN {
-    tag "$meta.id"
+    tag "$meta.id | $meta2.database_name"
     label 'process_medium'
 
     conda "${moduleDir}/environment.yml"
     container "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
-        'https://depot.galaxyproject.org/singularity/fastq-screen:0.15.3--pl5321hdfd78af_0':
-        'biocontainers/fastq-screen:0.15.3--pl5321hdfd78af_0'}"
+        'https://community-cr-prod.seqera.io/docker/registry/v2/blobs/sha256/fc/fc53eee7ca23c32220a9662fbb63c67769756544b6d74a1ee85cf439ea79a7ee/data' :
+        'community.wave.seqera.io/library/fastq-screen_perl-gdgraph:5c1786a5d5bc1309'}"
 
     input:
-    tuple val(meta), path(reads)  // .fastq files
-    path database
+    // NOTE for meta 2 and database [[database_name,  database_notes], database_path]
+    tuple val(meta), path(reads), val(meta2), path(database)
 
     output:
     tuple val(meta), path("*.txt")     , emit: txt
@@ -24,13 +24,18 @@
     script:
     def prefix = task.ext.prefix ?: "${meta.id}"
     def args = task.ext.args ?: ""
+    // 'Database name','Genome path and basename','Notes'
+    """
+    echo "Writing config"
+    echo "DATABASE    ${meta2.database_name}    ./${database}/genome    ${meta2.database_notes}" > fastq_screen.conf
+    echo "Wrote config"
 
-    """
-    fastq_screen --threads ${task.cpus} \\
-        --aligner bowtie2 \\
-        --conf ${database}/fastq_screen.conf \\
+    fastq_screen \\
+        --conf fastq_screen.conf \\
+        --threads ${task.cpus} \\
+        --aligner ${meta2.database_notes.toLowerCase()} \\
         $reads \\
-        $args \\
+        $args
 
     cat <<-END_VERSIONS > versions.yml
     "${task.process}":

'modules/nf-core/fastqscreen/fastqscreen/tests/main.nf.test.snap' is unchanged
'modules/nf-core/fastqscreen/fastqscreen/tests/tags.yml' is unchanged
'modules/nf-core/fastqscreen/fastqscreen/tests/nextflow.config' is unchanged
'modules/nf-core/fastqscreen/fastqscreen/tests/main.nf.test' is unchanged
************************************************************
